{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../context/auth.context';\nexport const useLogin = () => {\n  _s();\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    dispatch\n  } = useContext(AuthContext);\n  const login = async body => {\n    setIsLoading(true);\n    setError(null);\n    const response = axios.post('http://localhost:8000/api/login', body).then(res => {\n      if (!res.data.err) {\n        setIsLoading(false);\n        localStorage.setItem('user', JSON.stringify(res.data.user));\n        dispatch({\n          type: 'LOGIN',\n          payload: res.data.user\n        });\n      } else {\n        setError(res.data.err);\n        setIsLoading(false);\n        console.log(res.data.err);\n      }\n    });\n  };\n  return {\n    login,\n    isLoading,\n    error,\n    setError\n  };\n};\n_s(useLogin, \"9GTmO7iFc2ZCB/7QE+3jpfrsx9U=\");","map":{"version":3,"names":["useState","useContext","axios","AuthContext","useLogin","error","setError","isLoading","setIsLoading","dispatch","login","body","response","post","then","res","data","err","localStorage","setItem","JSON","stringify","user","type","payload","console","log"],"sources":["/Users/anthonyg/Desktop/job_app/client/src/hooks/useLogin.hook.js"],"sourcesContent":["import { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../context/auth.context'\n\nexport const useLogin = () => {\n    const [error, setError] = useState(null)\n    const [isLoading, setIsLoading] = useState(false)\n    const { dispatch } = useContext(AuthContext)\n\n    const login = async (body) => {\n        setIsLoading(true)\n        setError(null)\n\n        const response = axios.post('http://localhost:8000/api/login', body).then((res) => {\n            if(!res.data.err){\n                setIsLoading(false)\n                localStorage.setItem('user', JSON.stringify(res.data.user))\n                dispatch({type: 'LOGIN', payload:res.data.user})\n            } else {\n                setError(res.data.err)\n                setIsLoading(false)\n                console.log(res.data.err)\n            }\n        })\n    }\n\n    return { login, isLoading, error, setError }\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC5C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,yBAAyB;AAErD,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAAA;EAC1B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM;IAAES;EAAS,CAAC,GAAGR,UAAU,CAACE,WAAW,CAAC;EAE5C,MAAMO,KAAK,GAAG,MAAOC,IAAI,IAAK;IAC1BH,YAAY,CAAC,IAAI,CAAC;IAClBF,QAAQ,CAAC,IAAI,CAAC;IAEd,MAAMM,QAAQ,GAAGV,KAAK,CAACW,IAAI,CAAC,iCAAiC,EAAEF,IAAI,CAAC,CAACG,IAAI,CAAEC,GAAG,IAAK;MAC/E,IAAG,CAACA,GAAG,CAACC,IAAI,CAACC,GAAG,EAAC;QACbT,YAAY,CAAC,KAAK,CAAC;QACnBU,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACN,GAAG,CAACC,IAAI,CAACM,IAAI,CAAC,CAAC;QAC3Db,QAAQ,CAAC;UAACc,IAAI,EAAE,OAAO;UAAEC,OAAO,EAACT,GAAG,CAACC,IAAI,CAACM;QAAI,CAAC,CAAC;MACpD,CAAC,MAAM;QACHhB,QAAQ,CAACS,GAAG,CAACC,IAAI,CAACC,GAAG,CAAC;QACtBT,YAAY,CAAC,KAAK,CAAC;QACnBiB,OAAO,CAACC,GAAG,CAACX,GAAG,CAACC,IAAI,CAACC,GAAG,CAAC;MAC7B;IACJ,CAAC,CAAC;EACN,CAAC;EAED,OAAO;IAAEP,KAAK;IAAEH,SAAS;IAAEF,KAAK;IAAEC;EAAS,CAAC;AAChD,CAAC;AAAA,GAvBYF,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}