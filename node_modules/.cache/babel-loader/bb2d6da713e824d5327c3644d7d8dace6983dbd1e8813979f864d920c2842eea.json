{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../context/auth.context';\nexport const useSignup = () => {\n  _s();\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    dispatch\n  } = useContext(AuthContext);\n  const signup = async body => {\n    setIsLoading(true);\n    setError(null);\n    const response = axios.post('http://localhost:8000/api/register', body).then(res => {\n      if (!res.data.err) {\n        setIsLoading(false);\n        localStorage.setItem('user', JSON.stringify(res.data.user));\n        dispatch({\n          type: 'LOGIN',\n          payload: res.data.user\n        });\n      } else {\n        const {\n          err\n        } = res.data;\n        const errors = [];\n        for (let r in err) {\n          errors.push({\n            [r]: err[r].message\n          });\n        }\n        errors.length > 0 ? setError(errors) : setError(err);\n        setIsLoading(false);\n      }\n    });\n  };\n  return {\n    signup,\n    isLoading,\n    error\n  };\n};\n_s(useSignup, \"9GTmO7iFc2ZCB/7QE+3jpfrsx9U=\");","map":{"version":3,"names":["useState","useContext","axios","AuthContext","useSignup","error","setError","isLoading","setIsLoading","dispatch","signup","body","response","post","then","res","data","err","localStorage","setItem","JSON","stringify","user","type","payload","errors","r","push","message","length"],"sources":["/Users/anthonyg/Desktop/job_app/client/src/hooks/useSignup.hook.js"],"sourcesContent":["import { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../context/auth.context'\n\nexport const useSignup = () => {\n    const [error, setError] = useState(null)\n    const [isLoading, setIsLoading] = useState(false)\n    const { dispatch } = useContext(AuthContext)\n\n    const signup = async (body) => {\n        setIsLoading(true)\n        setError(null)\n\n        const response = axios.post('http://localhost:8000/api/register', body).then((res) => {\n            if(!res.data.err){\n                setIsLoading(false)\n                localStorage.setItem('user', JSON.stringify(res.data.user))\n                dispatch({type: 'LOGIN', payload:res.data.user})\n            } else {\n                const {err} = res.data;\n                const errors = []\n                for(let r in err){\n                    errors.push({[r]: err[r].message})\n                }\n                errors.length > 0 ? setError(errors) : setError(err);\n                setIsLoading(false);\n            }\n        })\n    }\n\n    return { signup, isLoading, error }\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC5C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,yBAAyB;AAErD,OAAO,MAAMC,SAAS,GAAG,MAAM;EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM;IAAES;EAAS,CAAC,GAAGR,UAAU,CAACE,WAAW,CAAC;EAE5C,MAAMO,MAAM,GAAG,MAAOC,IAAI,IAAK;IAC3BH,YAAY,CAAC,IAAI,CAAC;IAClBF,QAAQ,CAAC,IAAI,CAAC;IAEd,MAAMM,QAAQ,GAAGV,KAAK,CAACW,IAAI,CAAC,oCAAoC,EAAEF,IAAI,CAAC,CAACG,IAAI,CAAEC,GAAG,IAAK;MAClF,IAAG,CAACA,GAAG,CAACC,IAAI,CAACC,GAAG,EAAC;QACbT,YAAY,CAAC,KAAK,CAAC;QACnBU,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACN,GAAG,CAACC,IAAI,CAACM,IAAI,CAAC,CAAC;QAC3Db,QAAQ,CAAC;UAACc,IAAI,EAAE,OAAO;UAAEC,OAAO,EAACT,GAAG,CAACC,IAAI,CAACM;QAAI,CAAC,CAAC;MACpD,CAAC,MAAM;QACH,MAAM;UAACL;QAAG,CAAC,GAAGF,GAAG,CAACC,IAAI;QACtB,MAAMS,MAAM,GAAG,EAAE;QACjB,KAAI,IAAIC,CAAC,IAAIT,GAAG,EAAC;UACbQ,MAAM,CAACE,IAAI,CAAC;YAAC,CAACD,CAAC,GAAGT,GAAG,CAACS,CAAC,CAAC,CAACE;UAAO,CAAC,CAAC;QACtC;QACAH,MAAM,CAACI,MAAM,GAAG,CAAC,GAAGvB,QAAQ,CAACmB,MAAM,CAAC,GAAGnB,QAAQ,CAACW,GAAG,CAAC;QACpDT,YAAY,CAAC,KAAK,CAAC;MACvB;IACJ,CAAC,CAAC;EACN,CAAC;EAED,OAAO;IAAEE,MAAM;IAAEH,SAAS;IAAEF;EAAM,CAAC;AACvC,CAAC;AAAA,GA3BYD,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}